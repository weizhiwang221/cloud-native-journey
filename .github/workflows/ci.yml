[200~name: CI - Markdown Check # å·¥ä½œæµçš„åç§°

on: # æŒ‡å®šè§¦å‘å·¥ä½œæµçš„äº‹ä»¶
  push: # å½“ä»£ç è¢«æ¨é€åˆ°è¿œç¨‹ä»“åº“æ—¶è§¦å‘
    branches: [ main ]   # ä»…åœ¨æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘
  pull_request: # å½“åˆ›å»ºæˆ–æ›´æ–° Pull Request æ—¶è§¦å‘
    branches: [ main ]   # é’ˆå¯¹ main åˆ†æ”¯çš„ PR

jobs: # å®šä¹‰å·¥ä½œæµä¸­çš„ä»»åŠ¡
  markdown-lint: # ç¬¬ä¸€ä¸ªä»»åŠ¡ï¼šMarkdown è¯­æ³•æ£€æŸ¥
    name: Lint Markdown
    runs-on: ubuntu-latest # ä»»åŠ¡è¿è¡Œåœ¨æœ€æ–°çš„ Ubuntu è™šæ‹Ÿæœºä¸Š

    steps: # å®šä¹‰ä»»åŠ¡ä¸­çš„æ­¥éª¤
      # æ­¥éª¤ 1ï¼šæ£€å‡ºä»£ç ï¼ˆå¿…é¡»æ­¥éª¤ï¼‰
      - name: Checkout code
        uses: actions/checkout@v4 # ä½¿ç”¨å®˜æ–¹ checkout Action

      # æ­¥éª¤ 2ï¼šè®¾ç½® Node.js ç¯å¢ƒï¼ˆè®¸å¤š lint å·¥å…·åŸºäº Node.jsï¼‰
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      # æ­¥éª¤ 3ï¼šå®‰è£… Markdownlint CLI å·¥å…·
      - name: Install markdownlint
        run: npm install -g markdownlint-cli

      # æ­¥éª¤ 4ï¼šè¿è¡Œ lint æ£€æŸ¥ï¼Œæ’é™¤ node_modules ç›®å½•
      - name: Run markdownlint
        run: markdownlint "**/*.md" --ignore node_modules/

  check-links: # ç¬¬äºŒä¸ªä»»åŠ¡ï¼šæ£€æŸ¥æ­»é“¾
    name: Check Links
    runs-on: ubuntu-latest
    needs: markdown-lint # è¡¨ç¤ºæ­¤ä»»åŠ¡ä¾èµ–ä¸Šä¸€ä¸ªä»»åŠ¡ï¼Œåªæœ‰ä¸Šä¸€ä¸ªæˆåŠŸæ‰ä¼šè¿è¡Œ

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Check links
        uses: peter-evans/link-checker@v1
        with:
          args: -v -r **/*.md
